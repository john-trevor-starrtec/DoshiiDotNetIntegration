<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
</head>
<body>
<div class="wsd" wsd_style="modern-blue">
<pre>

title Table Allocation Notification

participant POS
participant DoshiiHttp
participant DoshiiSockets

DoshiiSockets->POS: TableAllocation notification. \n the table allocation notification contains a meerketConsumerId an Id, and a Name 
POS->POS: process table allocation 
alt table Allocation successful
	POS->DoshiiHttp: put table allocation. \n PUT ../consumers/:meerkatConsumerId/table
	DoshiiHttp->POS: Respond with table allocation object or error
	alt table allocation object received	
		alt status on table allocation does not = confirmed
			POS->DoshiiHttp: delete table allocation. \n DELETE ../consumers/:meerkatConsumerId/table \n include rejection reason
		end
	else http error received 
		POS->DoshiiHttp: delete table allocation. \n DELETE ../consumers/:meerkatConsumerId/table \n include rejection reason
	end 
else table Allocation failed
	POS->DoshiiHttp: delete table allocation. \n DELETE ../consumers/:meerkatConsumerId/table \n include rejection reason
end 

</pre>
</div>
<script type="text/javascript" src="http://www.websequencediagrams.com/service.js"></script>
</body>
</html>
